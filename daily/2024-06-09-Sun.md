
# 코딩테스트 복습

# 스프링부트 CRUD

## h2 데이터베이스와 mysql의 mybatis 설정

# h2 데이터베이스 생성

처음 : `jdbc:h2:~/test`

이후 :  `jdbc:h2:tcp://localhost/~/test`

# Board테이블 생성 - mysql

```html
drop table if exists board CASCADE;
create table board(
	id bigint primary key auto_increment,
    title varchar(50),
    writer varchar(20),
    Content varchar(500),
    hits bigint default 0,
    createdAt datetime default now
);	
```

# board 테이블 생성 - h2

```html
drop table if exists item CASCADE;
create table item
(
    id        bigint generated by default as identity,
    item_name varchar(10),
    price     integer,
    quantity  integer,
		reg_date DATETIME DEFAULT CURRENT_DATE;

    primary key (id)
);
```

# h2 [application.properties](http://application.properties) 정보 등록

```html
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.url=jdbc:h2:tcp://localhost/~/demo2
spring.datasource.username=sa
spring.datasource.password=
```

# 칼럼 추가

```html
ALTER TABLE board ADD COLUMN reg_date DATETIME DEFAULT CURRENT_DATE;

```

alter table board alter column reg_date set default now();

# datetime 포맷 변경 - mysql

```html
<select id="findAll" resultType="Board">
    select id, title, content, date_format(reg_date, "%Y-%m-%d") as regDate
    from board
    order by id desc
</select>
```

# datatime 포맷 변경 - h2

```html
<select id="findAll" resultType="Board">
    select id, title, content, FORMATDATETIME(reg_date, 'yyyy-MM-dd HH:mm') as regDate
    from board
    order by id desc
</select>
```