# Http 헤더

- Http 헤더란?
    - HTTP 전송에 필요한 모든 부가정보
- 메시지 본문을 페이로드 라고도 한다.

# 표현

> 표현 : 요청, 응답시 실제 데이터
> 

## Content

- Content - Type : 데이터 표현 방식, JSON? HTML? XML?
- Content - Encoding : 데이터 압축 방식, 클라이언트가 어떻게 압축을 풀어야할지 지정
- Content - Language : 데이터 자연 언어
- Content - Length : 데이터 길이

# 협상(콘텐츠 네고시에이션)

클라이언트가 원하는 응답 메시지의 부가 정보를 서버에 요청하는 것

예시) 나 한국어로 보내줘. 나 이 압축방식으로 보내줘

## Accept

- Accept :
- Accept - Charset :
- Accept - Encoding : 원하는 압축 방식 요청
- Accept - Language : 원하는 언어 요청

### 우선순위

![스크린샷 2024-05-10 오후 3.52.59.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e2d630d3-4b8f-4cb4-b886-9409e67db84f/a3e68341-8c51-4c23-91dd-79435e9f2557/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-05-10_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.52.59.png)

Accept 라던지 Accept-Language는 우선순위가 필요하다. 

q가 높을 수록 우선순위 높음

# 전송방식

단순 - Content-length

압축 - Content-Encoding

분할 - Transfer Encoding

범위 - Content-Range

# 일반 정보

## Referer

> Referer : 현재 방문한 사이트의 이전 사이트
> 

`유입경로 분석`에 사용한다.

`요청`에서 사용

## User-Agent

- 클라이언트의 브라우저 정보, 운영체제 정보 등을 나타낸다.
- 서버 입장에서 어떤 브라우저에 오류가 생기지? 확인 가능

## Server

- 서버 정보

# 특별정보

## Host

- 클라이언트에서 어떤 도메인을 요청할 때 사용
- 필수다. 왜? → 서버에서는 가상호스트로 여러 호스트를 둘 수 있다. 만약, 클라이언트가 요청메시지 안에 Host를 넣지 않으면 서버에서 어떤 호스트의 로직을 처리할지 모름.

## Location

- 페이지 리다이렉션에서 사용

## Allow

- 허용 가능한 메서드

## Retry-After

- 점검 해제시간

# 인증

페이지 접속시 특별 권한이 필요한 경우, 인증을 통해 허가 여부를 판단한다.

## Authorization

말그대로 인증

## WWW-Authenticate

401오류 발생시 클라이언트에게 인증 방법을 제공한다.

## 쿠키

- 쿠키란?
    - 클라이언트가 서버로부터 인증 정보에 관한 것들을 부여받은 일종의 인증서
- 왜 필요해? - 로그인 예시
    - 로그인이 필요한 페이지 접근 시 , 클라이언트가 매번 요청 메시지에 본인의 계정 정보를 넘겨서 인증받아야한다. 이렇게 매번 요청 메시지에 값을 넘기면 단점이 생김
        - 개발자는 매번 요청을 통해 넘어온 값을 처리하기 귀찮아짐
        - 보안에 취약함
        - 만약에 브라우저가 종료되면??
    - 위의 단점을 보완하고자 쿠키를 이용한다.

### 쿠키 종류

- Set- Cookie : 서버에서 클라이언트에게 주는 쿠키
- Cookie : 클라이언트가 서버에게 전송하는 쿠키

### 쿠키 원리

- 클라이언트는 서버로부터 Set-cookie를 통해 세션 id, 만료기간 등을 담은 쿠키를 전달받는다.
- 쿠키는 쿠키저장소에 따로 보관된다.
- 모든 요청들에서 필요에 따라 쿠키를 넣어서 요청 메시지를 보낸다.

### 쿠키 단점

- 네트워크 트래픽 향상 → 쿠키는 모든 요청들에 담겨서 서버에 전송된다.
    - 따라서 쿠키를 최소화하여 만들 필요가 있다. → 세션id, 인증 토큰 이용

### 쿠키 도메인

- 도메인을 생략 시 적용 범위 : 현재 도메인 O, 하위 도메인 X
- 도메인을 생략안할 때 적용 범위 : 현재 도메인 O, 하위 도메인 O

### 쿠키 보안

- Secure : Https을 이용해서만 전송, 생략시 Http, Https 모두 가능


# 코딩테스트
- [lv1 - 공원산책](https://school.programmers.co.kr/learn/courses/30/lessons/172928)