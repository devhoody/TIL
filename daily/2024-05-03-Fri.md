# GC

## GCë€?

- ë™ì  í• ë‹¹ ë©”ëª¨ë¦¬ ì˜ì—­ì—ì„œ ì“°ì´ì§€ ì•ŠëŠ” ì˜ì—­ì„ ì œê±°í•œë‹¤.

## GC ì¥ë‹¨ì 

ì¥ì 

- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë§‰ìŒ
- ì°¸ì¡°ë˜ì§€ ì•Šì€ ê°ì²´ì— ì ‘ê·¼ì„ ë§‰ìŒ

ë‹¨ì 

- GC ì‘ì—…ì€ ìˆœìˆ˜í•œ ì˜¤ë²„ í—¤ë“œ
- ê°œë°œìëŠ” GC ì‘ì—…ì´ ì–¸ì œ ìˆ˜í–‰ë˜ëŠ”ì§€ ëª¨ë¦„

## GC ì•Œê³ ë¦¬ì¦˜

### Reference Counting

- í™ ì˜ì—­ì— ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ë¥¸ ì˜ì—­ìœ¼ë¡œë¶€í„° ì°¸ì¡°ë˜ê³  ìˆëŠ” ê°œìˆ˜ë¥¼ ì¹´ìš´íŒ…í•´ì„œ 0ì´ë©´ ì œê±°
- ë‹¨ì  : ìê¸° ìì‹ ì„ ì°¸ì¡°í•˜ëŠ” ìˆœí™˜ ì°¸ì¡°ì‹œ 1ì´ ìœ ì§€ëœ ìƒíƒœì´ê¸° ë•Œë¬¸ì— ì œê±°ë˜ì§€ ëª»í•¨.
    - ì´ë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ Mark and Sweepë°©ì‹ì´ë‹¤.

### Mark and Sweep

- ë£¨íŠ¸ ìŠ¤í˜ì´ìŠ¤ì—ì„œ ì°¸ì¡°í•˜ëŠ” ê²½ë¡œë¥¼ Markí•˜ì—¬ ì´ìš©í•˜ê³  ìˆëŠ” ì§€ë¥¼ íŒë‹¨í•œë‹¤.
- Markë˜ì–´ ìˆì§€ ì•Šì€ ì¸ìŠ¤í„´ìŠ¤ë“¤ì€ ì œê±°ëœë‹¤. Sweep

> ë£¨íŠ¸ ìŠ¤í˜ì´ìŠ¤ ì¢…ë¥˜ : ìŠ¤íƒ ì˜ì—­ì˜ ë¡œì»¬ë³€ìˆ˜, ë©”ì„œë“œ ì˜ì—­(static ë³€ìˆ˜), ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒì˜ JNIì°¸ì¡°
> 

## GC íŠ¹ì§•

- GCë¥¼ ì˜ë„ì ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼í•œë‹¤.
- ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ GCë¥¼ ë³‘í–‰í•´ì•¼í•œë‹¤.

## í™ ì˜ì—­ì—ì„œì˜ GC ë™ì‘ ë°©ì‹

GCë¥¼ ì˜ë„ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” í™ ì˜ì—­ì—ì„œì˜ ë™ì‘ ë°©ì‹ì„ ë³´ë©´ ëœë‹¤.

í™ ì˜ì—­ì€ Young Generation(Eden, Survival 0, Survival 1), Old Genetation ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ìˆë‹¤. 

ìƒˆë¡­ê²Œ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ëŠ” Edenì— ì €ì¥ë˜ê³  Eden ì˜ì—­ì´ ê½‰ ì°¨ê²Œ ë˜ë©´ Survival 0 ì˜ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê°ì²´ë§Œ ì´ë™ë˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì œê±°ë˜ëŠ” minor GCê°€ ì¼ì–´ë‚œë‹¤. - `age bit +1`

ë˜ë‹¤ì‹œ Edenì˜ì—­ì— ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì±„ì›Œì§€ê²Œ ë˜ê³  ê½‰ì°¨ê²Œë˜ë©´ ì´ë²ˆì—ëŠ” Survival 1 ì˜ì—­ìœ¼ë¡œ Survaval0ì— ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì™€ í•¨ê»˜ minor GCê°€ ì¼ì–´ë‚œë‹¤. ì´ë•Œ, Survival 0 ì˜ì—­ì€ ë¹„ì–´ìˆë‹¤. - `age bit +1`

ë˜ë‹¤ì‹œ Eden ì˜ì—­ì´ ì±„ì›Œì§€ê³  ,, ì´ minor GCê°€ ë°˜ë³µë˜ë©´ agebitê°€ ì˜¤ë¥´ê²Œ ë˜ê³ , ì¼ì • ìˆ˜ì¤€ì´ ë˜ë©´ oldGeneration ì˜ì—­ìœ¼ë¡œ ì´ë™í•˜ê²Œ ëœë‹¤. ì´ë¥¼ Promotionì´ë¼ê³  í•œë‹¤.

> Survival0ê³¼ survival 1 ì˜ì—­ì€ ë‘˜ ì¤‘ í•˜ë‚˜ëŠ” ë¹„ì–´ìˆëŠ” ìƒíƒœì´ë‹¤.
> 

> agebit : minor GCê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ëŠ˜ì–´ë‚˜ëŠ” ìˆ˜ëª…ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ìë°” 8ì˜ ê²½ìš° 15ì´ë©´ OGë¡œ Promotionëœë‹¤.
> 

## ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ GCì˜ ë³‘í–‰

- JVMì€ GCë¥¼ ìˆ˜í–‰í•  ë•Œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì ì‹œ ì¤‘ì§€í•œë‹¤. ì´ë¥¼ Stop the Worldë¼ê³  í•œë‹¤.
- ìµœì í™”ê°€ ì˜ë˜ì–´ìˆëŠ” ê²½ìš°, Stop the Worldì˜ ì‹œê°„ì´ ìµœì†Œí™”ë˜ì–´ ìˆëŠ” ê²½ìš°ì´ë‹¤.
- GCì˜ ì¢…ë¥˜ì— ë”°ë¼ Stop the Worldì˜ ì‹œê°„ì´ ë‹¤ë¥´ë‹¤.

## GC ì¢…ë¥˜

### Serial GC

- ìŠ¤ë ˆë“œ 1ê°œë¡œ Stop the Worldì˜ ì‹œê°„ì´ ë¹„êµì  ê¸¸ë‹¤.

### Parallel GC

- ë©€í‹° ìŠ¤ë ˆë“œë¡œ Stop the Worldì˜ ì‹œê°„ì´ Serial GCë³´ë‹¤ëŠ” ì§§ìŒ

### CMS GC

- ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ GCë¥¼ ë³‘í–‰í•œë‹¤.
- í•˜ì§€ë§Œ Compaction ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠìŒ â†’ G1 GCë¡œ ëŒ€ì²´
- `ìë°” 8`ì—ì„œ ê¸°ë³¸ ì ìš©

> compaction : GCê°€ sweep ì´í›„ ë©”ëª¨ë¦¬ íŒŒí¸í™”ë¥¼ ì¶•ì†Œí•˜ëŠ” ê¸°ëŠ¥
> 

### G1 GC

- ê°€ë¹„ì§€ í¼ìŠ¤íŠ¸ GC
- Heapì„ ì¼ì • í¬ê¸°ë¡œ ë‚˜ëˆ„ì–´ G1 GCê°€ ìŠ¤ìŠ¤ë¡œ YG, OG ì˜ì—­ì˜ ë¹„ì¤‘ì„ ê²°ì •í•œë‹¤.
- `Java 9ì´ìƒ`ì—ì„œ ê¸°ë³¸ ì ìš©

# git

# add ì·¨ì†Œ

> git reset HEAD [file]
> 
- ë’¤ì— íŒŒì¼ëª…ì´ ì—†ìœ¼ë©´ addëœ ì „ì²´ íŒŒì¼ì´ ì·¨ì†Œëœë‹¤.

# ì»¤ë°‹

## ì»¤ë°‹ ì·¨ì†Œ

- git reset â€”soft head^ : ì»¤ë°‹ ì·¨ì†Œ, stage ìƒíƒœ O, ì›Œí‚¹ ë””ë ‰í† ë¦¬ íŒŒì¼ ìœ ì§€
- git reset â€”mixed head^(ê¸°ë³¸ê°’) : ì»¤ë°‹ ì·¨ì†Œ, stage ìƒíƒœ X, ì›Œí‚¹ ë””ë ‰í† ë¦¬ íŒŒì¼ ìœ ì§€
- git reset â€”hard head^ : ì»¤ë°‹ ì·¨ì†Œ, stage ìƒíƒœ X, ì›Œí‚¹ ë””ë ‰í† ë¦¬ íŒŒì¼ ì‚­ì œ O

> TIP. ë§Œì•½, ì›Œí‚¹ ë””ë ‰í† ë¦¬ë¥¼ ì›ê²© ì €ì¥ì†Œì˜ ë§ˆì§€ë§‰ commit ìƒíƒœë¡œ ë˜ëŒë¦¬ê³  ì‹¶ë‹¤ë©´ `git reset â€”hard head^`ë¥¼ ì´ìš©í•œë‹¤. ë‹¤ë§Œ, **ë§ˆì§€ë§‰ commit ì´í›„ ì‘ì—…ë¬¼ì´ ë‹¤ ë‚ ë¼ê°€ë¯€ë¡œ ì£¼ì˜ í•„ìš”!**
> 

## ì»¤ë°‹ ë©”ì‹œì§€ ìˆ˜ì •

> git commit â€”amend
> 

<aside>
ğŸ’¡ ê¶ê¸ˆí•œì 

- headì— ^ëŠ” ë¬´ìŠ¨ ì˜ë¯¸ì„? â†’ ^ì„ ì•ˆë¶™ì´ë©´ ì»¤ë°‹ ì·¨ì†Œê°€ ì•ˆë¨
</aside>

https://gmlwjd9405.github.io/2018/05/25/git-add-cancle.html

- ê¹ƒ ì»¤ë°‹ ë‚´ìš©ì„ ê°„ë‹¨í•˜ê²Œ ë³´ê³  ì‹¶ìŒ.
- git log ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ê¹Œì§€ ì­‰ ë‚˜ì™€ì„œ í•œë²ˆì— ì»¤ë°‹ íˆìŠ¤í† ë¦¬ë¥¼ ì¡°íšŒí•˜ê¸° í˜ë“¬
- `git log â€”pretty=oneline` â†’ í•œëˆˆì— ë³´ê¸° ì‰½ê²Œ í•´ì¤Œ
    
    <img width="796" alt="1" src="https://github.com/devhoody/TIL/assets/124743189/a075e65a-6b2a-447f-86be-01bf8c5c7802">


[https://git-scm.com/book/ko/v2/Gitì˜-ê¸°ì´ˆ-ì»¤ë°‹-íˆìŠ¤í† ë¦¬-ì¡°íšŒí•˜ê¸°](https://git-scm.com/book/ko/v2/Git%EC%9D%98-%EA%B8%B0%EC%B4%88-%EC%BB%A4%EB%B0%8B-%ED%9E%88%EC%8A%A4%ED%86%A0%EB%A6%AC-%EC%A1%B0%ED%9A%8C%ED%95%98%EA%B8%B0)

# ì½”ë”©í…ŒìŠ¤íŠ¸
[lv1 - ìˆ«ì ì§ê¿](https://school.programmers.co.kr/learn/courses/30/lessons/131128)
- ë³µìŠµ
  - [lv1 - ì²´ìœ¡ë³µ](https://school.programmers.co.kr/learn/courses/30/lessons/42862#)
  - [lv1 - ë‹¤íŠ¸ê²Œì„](https://school.programmers.co.kr/learn/courses/30/lessons/17682)
  - [ë¸Œë¡ ì¦ˆ1 - ë‹¨ì–´ê³µë¶€ [1157ë²ˆ]](https://www.acmicpc.net/problem/1157)
  - [ì‹¤ë²„4 - ê´„í˜¸ [9012ë²ˆ]](  https://www.acmicpc.net/problem/9012
  )
  - [ì‹¤ë²„5 - ê·¸ë£¹ ë‹¨ì–´ ì²´ì»¤ [1316ë²ˆ]](https://www.acmicpc.net/problem/1316)
  - [ì‹¤ë²„5 - í¬ë¡œì•„í‹°ì•„ ì•ŒíŒŒë²³ [2941ë²ˆ]](https://www.acmicpc.net/problem/2941)
  - [lv1 - ìˆ«ì ë¬¸ìì—´ê³¼ ì˜ë‹¨ì–´](https://school.programmers.co.kr/learn/courses/30/lessons/81301)
  - [lv1 - Kë²ˆì§¸ ìˆ˜](https://school.programmers.co.kr/learn/courses/30/lessons/42748)
  - [lv2 - ìˆ«ìì˜ í‘œí˜„](https://school.programmers.co.kr/learn/courses/30/lessons/12924)

# í”„ë¡œì íŠ¸
- íšŒì› ê°€ì… ë¡œì§ êµ¬í˜„
- í™ˆ í™”ë©´ êµ¬í˜„ (ë¡œê·¸ì¸, íšŒì›ê°€ì…, ê²Œì‹œíŒ ë²„íŠ¼ ìƒì„±)



